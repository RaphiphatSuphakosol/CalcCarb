<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ä‡πà‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏≠‡∏¥‡∏ô‡∏ã‡∏π‡∏•‡∏¥‡∏ô</title>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="Assets/CSS/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üí° ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ä‡πà‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏≠‡∏¥‡∏ô‡∏ã‡∏π‡∏•‡∏¥‡∏ô</h1>
            <p class="subtitle">‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏¥‡∏ô‡∏ã‡∏π‡∏•‡∏¥‡∏ô‡∏ä‡∏ô‡∏¥‡∏î‡∏≠‡∏≠‡∏Å‡∏§‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏£‡πá‡∏ß (Bolus) ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏°‡∏∑‡πâ‡∏≠‡∏≠‡∏≤‡∏´‡∏≤‡∏£</p>
        </header>

        <section id="settings" class="card primary-card">
            <h2>‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h2>
            <p class="warning-text">‚ö†Ô∏è **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:** ‡∏Ñ‡πà‡∏≤‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Ç‡∏≠‡∏á‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏´‡∏£‡∏∑‡∏≠‡∏ó‡∏µ‡∏°‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</p>

            <div class="input-grid">
                <div class="input-group">
                    <label for="weight">‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏ï‡∏±‡∏ß (‡∏Å‡∏¥‡πÇ‡∏•‡∏Å‡∏£‡∏±‡∏°):</label>
                    <input type="number" id="weight" value="60" min="10" step="1">
                </div>
                <div class="input-group">
                    <label for="age-group">‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏≠‡∏¥‡∏ô‡∏ã‡∏π‡∏•‡∏¥‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô:</label>
                    <select id="age-group">
                        <option value="0.5" selected>‡∏ú‡∏π‡πâ‡πÉ‡∏´‡∏ç‡πà (0.5 U/kg/‡∏ß‡∏±‡∏ô)</option>
                        <option value="0.5">‡πÄ‡∏î‡πá‡∏Å‡πÄ‡∏•‡πá‡∏Å (0.5 U/kg/‡∏ß‡∏±‡∏ô)</option>
                        <option value="0.85">‡πÄ‡∏î‡πá‡∏Å‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡∏±‡∏¢‡∏£‡∏∏‡πà‡∏ô (0.85 U/kg/‡∏ß‡∏±‡∏ô)</option>
                        <option value="1.5">‡∏ß‡∏±‡∏¢‡∏£‡∏∏‡πà‡∏ô (1.5 U/kg/‡∏ß‡∏±‡∏ô)</option>
                    </select>
                </div>
            </div>

            <div class="input-grid">
                 <div class="input-group">
                    <label for="insulin-type">‡∏ä‡∏ô‡∏¥‡∏î‡∏Ç‡∏≠‡∏á‡∏≠‡∏¥‡∏ô‡∏ã‡∏π‡∏•‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ:</label>
                    <select id="insulin-type">
                        <option value="1800" selected>Aspart (Novorapid, Fiasp)</option>
                        <option value="1500">RI (Actrapid)</option>
                    </select>
                </div>
                <div class="input-group">
                    <label for="tbg">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ (mg/dL):</label>
                    <input type="number" id="tbg" value="120" min="70" step="1">
                </div>
            </div>

            <button class="calculate-btn" onclick="calculatePersonalFactors()">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏±‡∏ß</button>

            <div id="factors-display" class="result-area factor-area" style="display: none;">
                 <p>
                    ‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏≠‡∏¥‡∏ô‡∏ã‡∏π‡∏•‡∏¥‡∏ô‡∏£‡∏ß‡∏°‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô (TDD):
                    <span class="tooltip-container">
                        <span class="tooltip-icon">(?)</span>
                        <span class="tooltip-text">Total Daily Dose ‡∏Ñ‡∏∑‡∏≠‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏≠‡∏¥‡∏ô‡∏ã‡∏π‡∏•‡∏¥‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÇ‡∏î‡∏¢‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ô 1 ‡∏ß‡∏±‡∏ô</span>
                    </span>
                    <span id="tdd-value" class="result-value">...</span> ‡∏¢‡∏π‡∏ô‡∏¥‡∏ï
                </p>
                <p>
                    ‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏Ñ‡∏≤‡∏£‡πå‡∏ö‡∏ï‡πà‡∏≠‡∏≠‡∏¥‡∏ô‡∏ã‡∏π‡∏•‡∏¥‡∏ô (ICR):
                     <span class="tooltip-container">
                        <span class="tooltip-icon">(?)</span>
                        <span class="tooltip-text">‡∏≠‡∏¥‡∏ô‡∏ã‡∏π‡∏•‡∏¥‡∏ô 1 ‡∏¢‡∏π‡∏ô‡∏¥‡∏ï ‡∏à‡∏∞‡∏Ñ‡∏∏‡∏°‡∏Ñ‡∏≤‡∏£‡πå‡πÇ‡∏ö‡πÑ‡∏Æ‡πÄ‡∏î‡∏£‡∏ï‡πÑ‡∏î‡πâ‡∏Å‡∏µ‡πà‡∏Å‡∏£‡∏±‡∏° (‡∏¢‡∏¥‡πà‡∏á‡∏ô‡πâ‡∏≠‡∏¢‡∏¢‡∏¥‡πà‡∏á‡πÑ‡∏ß)</span>
                    </span>
                    1 ‡∏¢‡∏π‡∏ô‡∏¥‡∏ï ‡∏ï‡πà‡∏≠ <span id="icr-value" class="result-value">...</span> ‡∏Å‡∏£‡∏±‡∏°‡∏Ñ‡∏≤‡∏£‡πå‡∏ö
                </p>
                <p>
                    ‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏ß‡∏ï‡πà‡∏≠‡∏≠‡∏¥‡∏ô‡∏ã‡∏π‡∏•‡∏¥‡∏ô (ISF):
                    <span class="tooltip-container">
                        <span class="tooltip-icon">(?)</span>
                        <span class="tooltip-text">‡∏≠‡∏¥‡∏ô‡∏ã‡∏π‡∏•‡∏¥‡∏ô 1 ‡∏¢‡∏π‡∏ô‡∏¥‡∏ï ‡∏à‡∏∞‡∏•‡∏î‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡πÑ‡∏î‡πâ‡∏Å‡∏µ‡πà mg/dL (‡∏¢‡∏¥‡πà‡∏á‡∏°‡∏≤‡∏Å‡∏¢‡∏¥‡πà‡∏á‡πÑ‡∏ß)</span>
                    </span>
                    1 ‡∏¢‡∏π‡∏ô‡∏¥‡∏ï ‡∏•‡∏î‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡πÑ‡∏î‡πâ <span id="isf-value" class="result-value">...</span> mg/dL
                </p>
            </div>
        </section>

        <section id="meal-calculation" class="card secondary-card" style="display:none;">
            <h2>‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏∑‡πâ‡∏≠‡∏ô‡∏µ‡πâ</h2>

            <div class="input-group wide-input">
                <label for="cbg">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô (‡πÄ‡∏à‡∏≤‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏õ‡∏•‡∏≤‡∏¢‡∏ô‡∏¥‡πâ‡∏ß, mg/dL):</label>
                <input type="number" id="cbg" placeholder="‡πÄ‡∏ä‡πà‡∏ô 180" min="20" step="1">
            </div>

            <div id="safety-warning" class="safety-warning-box" style="display: none;"></div>

            <h3 class="carb-h3">3. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÉ‡∏ô‡∏°‡∏∑‡πâ‡∏≠‡∏ô‡∏µ‡πâ</h3>

            <div class="food-tabs">
                <button class="tab-link active" onclick="openTab(event, 'SearchTab')">üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
                <button class="tab-link" onclick="openTab(event, 'CategoryTab')">üìö ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</button>
                <button class="tab-link" onclick="openTab(event, 'CustomTab')">‚úçÔ∏è ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏≠‡∏á</button>
            </div>

            <div id="SearchTab" class="tab-content" style="display: block;">
                <div class="input-group search-group">
                     <label for="food-search">‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤:</label>
                     <input type="text" id="food-search" list="food-options" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ç‡πâ‡∏≤‡∏ß‡∏™‡∏ß‡∏¢, ‡∏Å‡∏•‡πâ‡∏ß‡∏¢‡∏´‡∏≠‡∏°" onchange="addFoodByDatalist(this)">
                     <datalist id="food-options"></datalist>
                </div>
            </div>

            <div id="CategoryTab" class="tab-content">
                <div id="food-selection-tables"></div>
            </div>

            <div id="CustomTab" class="tab-content">
                <div id="custom-food-entry" class="custom-food-card">
                    <p class="custom-food-description">‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏â‡∏•‡∏≤‡∏Å‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£</p>
                    <div class="input-grid-custom">
                        <div class="input-group">
                            <label for="custom-food-name">‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏≤‡∏´‡∏≤‡∏£:</label>
                            <input type="text" id="custom-food-name" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡∏á‡πÇ‡∏Æ‡∏•‡∏ß‡∏µ‡∏ó">
                        </div>
                        <div class="input-group">
                            <label for="custom-food-carbs">‡∏Ñ‡∏≤‡∏£‡πå‡πÇ‡∏ö‡πÑ‡∏Æ‡πÄ‡∏î‡∏£‡∏ï (‡∏Å‡∏£‡∏±‡∏°):</label>
                            <input type="number" id="custom-food-carbs" placeholder="45">
                        </div>
                    </div>
                    <button class="add-custom-btn" onclick="addCustomFood()">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡πÉ‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</button>
                </div>
            </div>

            <h3 class="carb-h3 selected-h3">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</h3>
            <div id="selected-food-list-container">
                <div id="selected-food-list">
                    <p class="no-selection-msg">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏´‡∏≤‡∏£</p>
                </div>
            </div>

            <div class="total-carb-box">
                <p><strong>‡∏£‡∏ß‡∏°‡∏Ñ‡∏≤‡∏£‡πå‡πÇ‡∏ö‡πÑ‡∏Æ‡πÄ‡∏î‡∏£‡∏ï‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:</strong> <span id="total-carb-value" class="result-value">0</span> ‡∏Å‡∏£‡∏±‡∏°</p>
            </div>

            <button class="calculate-btn calculate-final-btn" onclick="calculateBolus()">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏≠‡∏¥‡∏ô‡∏ã‡∏π‡∏•‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏â‡∏µ‡∏î</button>

            <div id="bolus-results" class="result-area final-result-box" style="display: none;">
                <p>‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏≠‡∏¥‡∏ô‡∏ã‡∏π‡∏•‡∏¥‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£ (Carb Bolus): <span id="carb-bolus-value" class="result-value">0.0</span> ‡∏¢‡∏π‡∏ô‡∏¥‡∏ï</p>
                <p>‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏≠‡∏¥‡∏ô‡∏ã‡∏π‡∏•‡∏¥‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•‡∏™‡∏π‡∏á (Correction Bolus): <span id="correction-bolus-value" class="result-value">0.0</span> ‡∏¢‡∏π‡∏ô‡∏¥‡∏ï</p>
                <hr>
                <div class="total-dose">‡∏™‡∏£‡∏∏‡∏õ‡πÅ‡∏•‡πâ‡∏ß ‡∏°‡∏∑‡πâ‡∏≠‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏â‡∏µ‡∏î:</div>
                <div class="final-display">
                    <span class="final-dose-value" id="total-bolus-value">0.0</span>
                    <span class="unit-text">‡∏¢‡∏π‡∏ô‡∏¥‡∏ï</span>
                </div>
            </div>
        </section>

        <p class="footer-note">**‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô:** ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏ï‡∏±‡∏ß‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô ‡πÇ‡∏õ‡∏£‡∏î‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡πÅ‡∏û‡∏ó‡∏¢‡πå‡∏Å‡πà‡∏≠‡∏ô‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Å‡∏≤‡∏£‡∏â‡∏µ‡∏î‡∏≠‡∏¥‡∏ô‡∏ã‡∏π‡∏•‡∏¥‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏≠‡∏≤‡∏à‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ</p>
    </div>
    <script src="Assets/JS/script.js"></script>
</body>
</html>